(this["webpackJsonpreddit-client-app"]=this["webpackJsonpreddit-client-app"]||[]).push([[0],[,,,,,,,,,,function(e,t,a){e.exports=a(19)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),i=a(4),c=a.n(i),r=(a(15),a(7)),o=a(2);a(16),a(17);function s(e){return l.a.createElement("li",{onClick:function(){e.itemSelected(e.item)},className:e.selected?"selected":""},e.item.data.display_name)}function d(e){return l.a.createElement("ul",{className:"navigation"},e.items.map((function(t){return l.a.createElement(s,{item:t,itemSelected:e.itemSelected,key:t.data.id,selected:t.data.url===e.activeUrl})})))}var m=a(5),u=a(6),p=a(1),h=a(9),f=a(8);a(18);function E(e){return l.a.createElement("div",null,l.a.createElement("p",{onClick:function(){e.itemSelected(e.item)},className:e.selectedPostId===e.item.data.id?"selectedPost":"post"},e.item.data.title),e.selectedPostId===e.item.data.id?l.a.createElement("div",{className:"card"},l.a.createElement("img",{className:"cardImage",src:e.item.data.thumbnail,alt:""}),l.a.createElement("p",{className:"cardTitle"}," ",e.item.data.title," "),l.a.createElement("p",null,l.a.createElement("span",{className:"postedBy"},"Posted By: "),l.a.createElement("span",{className:"author"},e.item.data.author_fullname)),l.a.createElement("p",{className:"description"}," ",e.item.data.selftext," "),l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null," Score "),l.a.createElement("th",null," Comments "))),l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null," ",e.item.data.score," "),l.a.createElement("td",null," ",e.item.data.num_comments," ")))),l.a.createElement("a",{href:e.item.data.url,target:"_blank"}," Read More ")):null)}var v=function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).state={id:null},n.togglePanel=n.togglePanel.bind(Object(p.a)(n)),n}return Object(u.a)(a,[{key:"togglePanel",value:function(e){this.state.id===e.id?this.setState({id:null}):this.setState({id:e.id})}},{key:"handleClickOutside",value:function(){this.setState({id:null})}},{key:"resetBuilder",value:function(){this.setState({id:null})}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"postItem"},this.props.items.length>0?l.a.createElement("ul",null,this.props.items.map((function(t){return l.a.createElement(E,{item:t,itemSelected:function(a){return e.togglePanel(t.data)},key:t.data.id,selectedPostId:e.state.id})}))):l.a.createElement("h2",null," Click on a Sub Reddit item in the list to preview here "))}}]),a}(l.a.Component),w={navigationItems:[],selectedSubreddit:null,postItems:[]};function b(e,t){switch(t.type){case"set-navigation-items":return Object(o.a)({},e,{navigationItems:t.payload});case"set-selected-subreddit":return Object(o.a)({},e,{selectedSubreddit:t.payload,postItems:[]});case"set-post-items":return Object(o.a)({},e,{postItems:t.payload});default:throw new Error}}var g=null;function y(){var e=Object(n.useReducer)(b,w),t=Object(r.a)(e,2),a=t[0],i=t[1];Object(n.useEffect)((function(){var e=document.head;if(null==e)throw new Error("No <head> to use for script injection.");var t="fn".concat(Date.now()),a=document.createElement("script");a.src="https://www.reddit.com/reddits.json?jsonp=".concat(t),window[t]=function(n){i({payload:n.data.children,type:"set-navigation-items"}),delete window[t],e.removeChild(a)},e.appendChild(a)}),[]);return l.a.createElement(l.a.Fragment,null,l.a.createElement(d,{activeUrl:null==a.selectedSubreddit?null:a.selectedSubreddit.data.url,items:a.navigationItems,itemSelected:function(e){var t=document.head;if(null==t)throw new Error("No <head> to use for script injection.");var a=g="fn".concat(Date.now()),n=document.createElement("script");n.src="https://www.reddit.com".concat(e.data.url,".json?sort=top&t=month&jsonp=").concat(a),window[a]=function(e){a===g&&i({payload:e.data.children,type:"set-post-items"}),delete window[a],t.removeChild(n)},t.appendChild(n),i({payload:e,type:"set-selected-subreddit"})}}),l.a.createElement(v,{items:a.postItems}))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(y,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[10,1,2]]]);
//# sourceMappingURL=main.37fa328e.chunk.js.map